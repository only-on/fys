{"version":3,"sources":["webpack:///src/view/fixedAssets/assetsMain/mainManger/create.vue","webpack:///./src/view/fixedAssets/assetsMain/mainManger/create.vue?0bd8","webpack:///./src/view/fixedAssets/assetsMain/mainManger/create.vue"],"names":["create","data","repairTime","fixedType","typeList","fixedList","mobilePhoneNotice","typeImage","formItem","id","fiexdAssetsId","repairContent","imageId","repairer","phone","type","methods","getTypeList","_this","this","Object","api","then","res","code","content","changeType","change","getFixed","_this2","par","typeId","mobilePhoneVal","string","trim","test","handleUpload","file","_this3","formData","FormData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","target","files","next","done","image","value","append","err","return","headers","Content-Type","url","$Message","error","message","$refs","upload","removeImage","changeDate","submitVal","length","save","_this4","success","$router","push","name","params","param","$route","getDetail","_this5","repairId","result","fixedTypeId","imageUrl","back","created","mainManger_create","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","size","on","click","_v","staticStyle","margin","_s","ref","model","label-width","label","width","float","placeholder","clearable","on-change","callback","$$v","expression","_l","item","key","typeName","$set","fixedId","fixedName","$event","_e","editable","height","directives","rawName","href","src","alt","color","nativeOn","maxlength","show-word-limit","autosize","minRows","maxRows","margin-top","padding","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.cef6e80031019731a720.js","sourcesContent":["<template>\n  <div>\n    <Row type=\"flex\" justify=\"start\" class=\"titleBar\">\n      <Icon type=\"md-close\" size=\"30\" class=\"closeIcon\" @click=\"back\"/>\n      <div style=\"margin:10px 30px\">\n       <span>\n         固定资产管维\n         <Icon type=\"ios-arrow-forward\" size=\"20\" />\n       </span>\n        <span>{{formItem.id === '' ? '创建' :'编辑'}}维护记录</span>\n      </div>\n    </Row>\n    <div class=\"detailBody\">\n      <div class=\"detailContent\">\n        <Row type=\"flex\" justify=\"start\" class=\"detailTitle\">维护记录</Row>\n        <div class=\"formContent\">\n          <Form :model=\"formItem\" :label-width=\"150\" ref=\"formItem\">\n            <Row type=\"flex\">\n              <FormItem label=\"资产分类\" class=\"selfValidate\">\n                <Select v-model=\"fixedType\" style=\"width:300px;float: left;\" placeholder=\"资产分类\" clearable @on-change=\"changeType\">\n                  <Option v-for=\"item in typeList\" :value=\"item.typeId\" :key=\"item.typeId\">{{ item.typeName }}</Option>\n                </Select>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"资产名称\" class=\"selfValidate\">\n                <Select v-model=\"formItem.fiexdAssetsId\" style=\"width:300px;float: left;\" placeholder=\"资产名称\" clearable>\n                  <Option v-for=\"item in fixedList\" :value=\"item.fixedId\" :key=\"item.fixedId\">{{ item.fixedName }}</Option>\n                </Select>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"维护类型\" class=\"selfValidate\">\n                <RadioGroup v-model=\"formItem.type\">\n                  <Radio label=\"2\">维护保养</Radio>\n                  <Radio label=\"1\">损坏维修</Radio>\n                </RadioGroup>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"维护人姓名\" class=\"selfValidate\">\n                <Input  v-model=\"formItem.repairer\" style=\"width: 300px;float: left\" placeholder=\"维护人姓名\" ></Input><br>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"手机号码\" class=\"selfValidate\">\n                <Input  v-model=\"formItem.phone\"   placeholder=\"手机号码\" style=\"width: 300px; float: left\" @on-change=\"mobilePhoneVal(formItem.phone)\"></Input>\n                <span class=\"notice\" v-if=\"mobilePhoneNotice\">请输入合法的手机号码</span><br>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"维护时间\" class=\"selfValidate\">\n                <DatePicker type=\"datetime\" placeholder=\"维护时间\" v-model=\"repairTime\" style=\"float: left;width: 300px;\" :editable=\"false\" @on-change=\"changeDate\"></DatePicker>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"维护图片\">\n                <div class=\"file\">\n                  <input type=\"file\" @change=\"handleUpload\" ref=\"upload\" style=\"height: 30px;\">上传图片\n                </div>\n                <div class=\"box-image\" v-show=\"typeImage !== '' && typeImage !== null\">\n                  <a :href= typeImage target=\"_blank\">\n                    <img :src=typeImage style=\"width: 100px;height: 100px\" alt=\"上传照片\">\n                  </a>\n                  <div class=\"mask-image\">\n                    <Icon type=\"ios-trash-outline\" @click.native=\"removeImage\" size=\"24\" color=\"#fff\" ></Icon>\n                  </div>\n                </div>\n              </FormItem>\n            </Row>\n            <Row type=\"flex\">\n              <FormItem label=\"维护内容\">\n                <Input v-model=\"formItem.repairContent\" maxlength=\"100\" show-word-limit type=\"textarea\" placeholder=\"请输入维护内容\" :autosize=\"{minRows: 2,maxRows: 5}\" style=\"width: 300px\" /><br>\n              </FormItem>\n            </Row>\n          </Form>\n        </div>\n      </div>\n      <Row type=\"flex\" style=\"margin-top: 30px\">\n        <Button class=\"btn-save\" @click=\"save\" style=\"padding: 5px 30px\">保存</Button>\n      </Row>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { fixedRepairAdd, fixedRepairDetail, fixedTypePull, fixedPull, fixedRepairUpdate, uploadImg } from '../../../../api/api'\n  export default {\n    data () {\n      return {\n        repairTime: '',\n        fixedType: '',\n        typeList: [],\n        fixedList: [],\n        mobilePhoneNotice: false,\n        typeImage: '',\n        formItem: {\n          id: '',\n          fiexdAssetsId: '',\n          repairContent: '',\n          imageId: '',\n          repairer: '',\n          phone: '',\n          repairTime: '',\n          type: '2'\n        }\n      }\n    },\n    methods:{\n      // 资产分类下拉\n      getTypeList () {\n        fixedTypePull().then(res => {\n          if (res.data.code === 1000) {\n            this.typeList = res.data.content\n          } else {\n            this.typeList = []\n          }\n        })\n      },\n      changeType (change) {\n        this.getFixed(change)\n      },\n      // 资产下拉\n      getFixed (id) {\n        let par = {\n          typeId: id\n        }\n        fixedPull(par).then(res => {\n          if (res.data.code === 1000) {\n            this.fixedList = res.data.content\n          } else {\n            this.fixedList = []\n          }\n        })\n      },\n      mobilePhoneVal (string) {\n        this.formItem.phone = string.trim()\n        var validataPrice = /(^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$)/\n        if (!validataPrice.test(string.trim())) {\n          this.mobilePhoneNotice = true\n        } else {\n          this.mobilePhoneNotice = false\n        }\n      },\n      handleUpload (file) {\n        let formData = new FormData()\n        for (let image of file.target.files) {\n          formData.append('file', image)\n        }\n        let config = {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n        uploadImg(formData, config).then((res) => {\n          if (res.data.code === 1000) {\n            this.typeImage = res.data.content.url\n            this.formItem.imageId = res.data.content.id\n          } else {\n            this.$Message.error(res.data.message)\n          }\n          this.$refs.upload.value = ''\n        })\n      },\n      removeImage () {\n        this.typeImage = ''\n        this.formItem.imageId = ''\n      },\n      changeDate (change) {\n        if (change !== '' && change !== undefined) {\n          this.formItem.repairTime = change\n        } else {\n          this.formItem.repairTime = ''\n        }\n      },\n      submitVal (formData) {\n        if (this.fixedType === '' || this.fixedType === undefined) {\n          this.$Message.error('资产分类不能为空！')\n          return false\n        } else if (formData.fiexdAssetsId === '' || formData.fiexdAssetsId === undefined) {\n          this.$Message.error('固定资产不能为空！')\n          return false\n        } else if (formData.repairer.trim().length === 0) {\n          this.$Message.error('维护人姓名不能为空！')\n          return false\n        } else if (formData.phone === '') {\n          this.$Message.error('手机号码不能为空！')\n          return false\n        } else if (this.mobilePhoneNotice === true) {\n          this.$Message.error('请输入合法的手机号码！')\n          return false\n        } else if (formData.repairTime === '') {\n          this.$Message.error('维护时间不能为空！')\n          return false\n        } else {\n          return true\n        }\n      },\n      save () {\n        if (this.submitVal(this.formItem)) {\n          if (this.formItem.id === '' || this.formItem.id === undefined) {\n            fixedRepairAdd(this.formItem).then((res) =>{\n              if (res.data.code === 1000) {\n                this.$Message.success('维护记录创建成功！')\n                this.$router.push({name: 'assets_Main'})\n              } else {\n                this.$Message.error(res.data.message)\n              }\n            })\n          } else {\n            fixedRepairUpdate(this.formItem).then((res) =>{\n              if (res.data.code === 1000) {\n                this.$Message.success('维护记录编辑成功！')\n                this.$router.push({name: 'assets_Main', params:{param: this.$route.params.param}})\n              } else {\n                this.$Message.error(res.data.message)\n              }\n            })\n          }\n        }\n      },\n      getDetail (id) {\n        let par = {\n          repairId: id\n        }\n        fixedRepairDetail(par).then(res => {\n          if (res.data.code === 1000) {\n            let result = res.data.content\n            this.formItem = {\n              id: result.id,\n              fiexdAssetsId: result.fiexdAssetsId,\n              repairContent: result.repairContent,\n              imageId: result.imageId,\n              repairer: result.repairer,\n              phone: result.phone,\n              repairTime: result.repairTime,\n              type: result.type + ''\n            }\n            this.repairTime = result.repairTime\n            this.fixedType = result.fixedTypeId\n            this.getFixed(result.fixedTypeId)\n            this.typeImage = result.imageUrl\n          } else {\n            this.formItem = {\n              id: this.$route.params.id,\n              fiexdAssetsId: '',\n              repairContent: '',\n              imageId: '',\n              repairer: '',\n              phone: '',\n              repairTime: ''\n            }\n          }\n        })\n      },\n      back () {\n        if (this.formItem.id === '') {\n          this.$router.push({name: 'assets_Main'})\n        } else {\n          this.$router.push({name: 'assets_Main', params:{param: this.$route.params.param}})\n        }\n      }\n    },\n    created:function () {\n      // 资产分类下拉\n      this.getTypeList()\n      if (this.$route.params.id !== undefined) {\n        this.formItem.id = this.$route.params.id\n        this.getDetail(this.formItem.id)\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../../../../assets/styles/variable/variable.less';\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/fixedAssets/assetsMain/mainManger/create.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',{staticClass:\"titleBar\",attrs:{\"type\":\"flex\",\"justify\":\"start\"}},[_c('Icon',{staticClass:\"closeIcon\",attrs:{\"type\":\"md-close\",\"size\":\"30\"},on:{\"click\":_vm.back}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 30px\"}},[_c('span',[_vm._v(\"\\n       固定资产管维\\n       \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\",\"size\":\"20\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.formItem.id === '' ? '创建' :'编辑')+\"维护记录\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"detailBody\"},[_c('div',{staticClass:\"detailContent\"},[_c('Row',{staticClass:\"detailTitle\",attrs:{\"type\":\"flex\",\"justify\":\"start\"}},[_vm._v(\"维护记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"formContent\"},[_c('Form',{ref:\"formItem\",attrs:{\"model\":_vm.formItem,\"label-width\":150}},[_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{staticClass:\"selfValidate\",attrs:{\"label\":\"资产分类\"}},[_c('Select',{staticStyle:{\"width\":\"300px\",\"float\":\"left\"},attrs:{\"placeholder\":\"资产分类\",\"clearable\":\"\"},on:{\"on-change\":_vm.changeType},model:{value:(_vm.fixedType),callback:function ($$v) {_vm.fixedType=$$v},expression:\"fixedType\"}},_vm._l((_vm.typeList),function(item){return _c('Option',{key:item.typeId,attrs:{\"value\":item.typeId}},[_vm._v(_vm._s(item.typeName))])}),1)],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{staticClass:\"selfValidate\",attrs:{\"label\":\"资产名称\"}},[_c('Select',{staticStyle:{\"width\":\"300px\",\"float\":\"left\"},attrs:{\"placeholder\":\"资产名称\",\"clearable\":\"\"},model:{value:(_vm.formItem.fiexdAssetsId),callback:function ($$v) {_vm.$set(_vm.formItem, \"fiexdAssetsId\", $$v)},expression:\"formItem.fiexdAssetsId\"}},_vm._l((_vm.fixedList),function(item){return _c('Option',{key:item.fixedId,attrs:{\"value\":item.fixedId}},[_vm._v(_vm._s(item.fixedName))])}),1)],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{staticClass:\"selfValidate\",attrs:{\"label\":\"维护类型\"}},[_c('RadioGroup',{model:{value:(_vm.formItem.type),callback:function ($$v) {_vm.$set(_vm.formItem, \"type\", $$v)},expression:\"formItem.type\"}},[_c('Radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"维护保养\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"损坏维修\")])],1)],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{staticClass:\"selfValidate\",attrs:{\"label\":\"维护人姓名\"}},[_c('Input',{staticStyle:{\"width\":\"300px\",\"float\":\"left\"},attrs:{\"placeholder\":\"维护人姓名\"},model:{value:(_vm.formItem.repairer),callback:function ($$v) {_vm.$set(_vm.formItem, \"repairer\", $$v)},expression:\"formItem.repairer\"}}),_c('br')],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{staticClass:\"selfValidate\",attrs:{\"label\":\"手机号码\"}},[_c('Input',{staticStyle:{\"width\":\"300px\",\"float\":\"left\"},attrs:{\"placeholder\":\"手机号码\"},on:{\"on-change\":function($event){return _vm.mobilePhoneVal(_vm.formItem.phone)}},model:{value:(_vm.formItem.phone),callback:function ($$v) {_vm.$set(_vm.formItem, \"phone\", $$v)},expression:\"formItem.phone\"}}),_vm._v(\" \"),(_vm.mobilePhoneNotice)?_c('span',{staticClass:\"notice\"},[_vm._v(\"请输入合法的手机号码\")]):_vm._e(),_c('br')],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{staticClass:\"selfValidate\",attrs:{\"label\":\"维护时间\"}},[_c('DatePicker',{staticStyle:{\"float\":\"left\",\"width\":\"300px\"},attrs:{\"type\":\"datetime\",\"placeholder\":\"维护时间\",\"editable\":false},on:{\"on-change\":_vm.changeDate},model:{value:(_vm.repairTime),callback:function ($$v) {_vm.repairTime=$$v},expression:\"repairTime\"}})],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{attrs:{\"label\":\"维护图片\"}},[_c('div',{staticClass:\"file\"},[_c('input',{ref:\"upload\",staticStyle:{\"height\":\"30px\"},attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleUpload}}),_vm._v(\"上传图片\\n              \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.typeImage !== '' && _vm.typeImage !== null),expression:\"typeImage !== '' && typeImage !== null\"}],staticClass:\"box-image\"},[_c('a',{attrs:{\"href\":_vm.typeImage,\"target\":\"_blank\"}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":_vm.typeImage,\"alt\":\"上传照片\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"mask-image\"},[_c('Icon',{attrs:{\"type\":\"ios-trash-outline\",\"size\":\"24\",\"color\":\"#fff\"},nativeOn:{\"click\":function($event){return _vm.removeImage($event)}}})],1)])])],1),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\"}},[_c('FormItem',{attrs:{\"label\":\"维护内容\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"maxlength\":\"100\",\"show-word-limit\":\"\",\"type\":\"textarea\",\"placeholder\":\"请输入维护内容\",\"autosize\":{minRows: 2,maxRows: 5}},model:{value:(_vm.formItem.repairContent),callback:function ($$v) {_vm.$set(_vm.formItem, \"repairContent\", $$v)},expression:\"formItem.repairContent\"}}),_c('br')],1)],1)],1)],1)],1),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"type\":\"flex\"}},[_c('Button',{staticClass:\"btn-save\",staticStyle:{\"padding\":\"5px 30px\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bd4075bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/fixedAssets/assetsMain/mainManger/create.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bd4075bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"javascriptEnabled\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./create.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bd4075bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bd4075bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/fixedAssets/assetsMain/mainManger/create.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}