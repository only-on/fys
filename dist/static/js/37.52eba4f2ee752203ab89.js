webpackJsonp([37],{fL4P:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("pPmT"),n=a("P9l9"),s={data:function(){var e=this;return{typeList:[{label:"重要房屋",value:0},{label:"普通房屋",value:1}],typeList2:[{label:"否",value:0},{label:"全部出租",value:1},{label:"部分出租",value:2}],typeList3:[{label:"公有",value:1},{label:"私有",value:2},{label:"代管",value:3}],typeList4:[{label:"待出租",value:0},{label:"部分出租中",value:1},{label:"全部出租中",value:2},{label:"自用",value:3},{label:"空闲",value:4}],size:[10,50,100,200],total:0,rows:10,page:1,paramnter:{houseName:"",pageNum:1,pageSize:10,type:"",lease:"",form:"",useState:""},columns:[{title:"序号",width:100,align:"center",render:function(t,a){return t("div",e.paramnter.pageNum>1?(e.page-1)*e.rows+a.index+1:a.index+1)}},{title:"房屋名称",key:"houseName",align:"center"},{title:"房屋类型",key:"type",align:"center",render:function(e,t){return e("div","0"===t.row.type||0===t.row.type?"重要房屋":"1"===t.row.type||1===t.row.type?"普通房屋":"-")}},{title:"是否租赁",key:"lease",align:"center",render:function(e,t){return e("div","0"===t.row.lease||0===t.row.lease?"否":"1"===t.row.lease||1===t.row.lease?"全部出租":"2"===t.row.lease||2===t.row.lease?"部分出租":"-")}},{title:"房屋类别",key:"form",align:"center",render:function(e,t){return e("div","1"===t.row.form||1===t.row.form?"公有":"2"===t.row.form||2===t.row.form?"私有":"3"===t.row.form||3===t.row.form?"代管":"-")}},{title:"使用状态",key:"useState",align:"center",render:function(e,t){return e("div","0"===t.row.useState||0===t.row.useState?"待出租":"1"===t.row.useState||1===t.row.useState?"部分出租中":"2"===t.row.useState||2===t.row.useState?"全部出租中":"3"===t.row.useState||3===t.row.useState?"自用":"空闲")}},{title:"管理",key:"action",align:"center",width:200,render:function(t,a){return t("div",[t("Button",{props:{type:"text",size:"small"},style:{color:"#516BEB",marginRight:"8px"},on:{click:function(){e.$router.push({name:"house_room",params:{id:a.row.id,param:e.paramnter}})}}},"房间管理"),t("Button",{props:{type:"text",size:"small"},style:{color:"#516BEB",display:0!==a.row.lease?"inline":"none"},on:{click:function(){e.$router.push({name:"house_lease",params:{id:a.row.id,param:e.paramnter}})}}},"租赁管理")])}},{title:"操作",key:"action",align:"center",width:200,render:function(t,a){return t("div",[t("Icon",{props:{type:"ios-videocam-outline",size:28},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){e.$router.push({name:"house_video",params:{id:a.row.id,param:e.paramnter}})}}}),t("Icon",{props:{type:"ios-image-outline",size:28},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){e.$router.push({name:"house_images",params:{id:a.row.id,param:e.paramnter}})}}}),t("Icon",{props:{type:"ios-create-outline",size:28},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){e.edit(a.row.id)}}}),t("Icon",{props:{type:"ios-list-box-outline",size:24},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){e.check(a.row.id)}}}),t("Icon",{props:{type:"ios-trash-outline",size:24},style:{color:"#516BEB",cursor:"pointer"},on:{click:function(){e.remove(a.row.id)}}})])}}],dataTable:[{id:1}]}},methods:{add:function(){this.$router.push({name:"house_create"})},edit:function(e){this.$router.push({name:"house_create",params:{id:e,param:this.paramnter}})},check:function(e){this.$router.push({name:"house_detail",params:{id:e,param:this.paramnter}})},remove:function(e){var t=this;t.$Modal.confirm({title:"确认删除该房屋信息?",onOk:function(){var a={houseId:e};Object(n.G)(a).then(function(e){1e3===e.data.code?(t.$Message.success("删除成功！"),t.getTableDatas(t.paramnter)):t.$Message.error(e.data.message)})}})},changeSelect:function(){this.paramnter.pageNum=1,this.page=1;this.getTableDatas(this.paramnter)},timeChange:function(e){""!==e[0]&&void 0!==e[1]?(this.paramnter.startTime=e[0],this.paramnter.endTime=e[1]):(this.paramnter.startTime=void 0,this.paramnter.endTime=void 0),this.paramnter.pageNum=1,this.page=1;this.getTableDatas(this.paramnter)},keywordChange:Object(r.a)(function(){this.paramnter.houseName=this.paramnter.houseName.trim(),this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)}),backKeyword:function(){this.paramnter.houseName="",this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)},change:function(e){this.page=e,this.paramnter.pageNum=this.page,this.getTableDatas(this.paramnter)},doPageSizeChange:function(e){this.rows=e,this.paramnter.pageSize=this.rows,this.getTableDatas(this.paramnter)},getTableDatas:function(e){var t=this;Object(n.L)(e).then(function(e){1e3===e.data.code?(t.dataTable=e.data.content.list,t.total=e.data.content.total,t.rows=e.data.content.pageSize,t.page=e.data.content.pageNum):(t.dataTable=[],t.total=0,t.rows=10,t.page=1),void 0!==t.$refs.tablePage&&(t.$refs.tablePage.currentPage=t.page)})}},created:function(){void 0!==this.$route.params.param&&(this.paramnter=this.$route.params.param),this.getTableDatas(this.paramnter)}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("div",{staticClass:"content"},[a("Row",{staticStyle:{"margin-bottom":"20px"}},[a("Input",{staticClass:"head-search",staticStyle:{width:"250px",float:"left","margin-right":"20px"},attrs:{placeholder:"房屋名称",icon:"ios-close-circle"},on:{"on-change":e.keywordChange,"on-click":e.backKeyword},model:{value:e.paramnter.houseName,callback:function(t){e.$set(e.paramnter,"houseName",t)},expression:"paramnter.houseName"}}),e._v(" "),a("Select",{staticClass:"head-search",staticStyle:{width:"150px",float:"left","margin-right":"20px","text-align":"left"},attrs:{placeholder:"房屋类型",clearable:""},on:{"on-change":e.changeSelect},model:{value:e.paramnter.type,callback:function(t){e.$set(e.paramnter,"type",t)},expression:"paramnter.type"}},e._l(e.typeList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),a("Select",{staticClass:"head-search",staticStyle:{width:"150px",float:"left","margin-right":"20px","text-align":"left"},attrs:{placeholder:"是否租赁",clearable:""},on:{"on-change":e.changeSelect},model:{value:e.paramnter.lease,callback:function(t){e.$set(e.paramnter,"lease",t)},expression:"paramnter.lease"}},e._l(e.typeList2,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),a("Select",{staticClass:"head-search",staticStyle:{width:"150px",float:"left","margin-right":"20px","text-align":"left"},attrs:{placeholder:"房屋类别",clearable:""},on:{"on-change":e.changeSelect},model:{value:e.paramnter.form,callback:function(t){e.$set(e.paramnter,"form",t)},expression:"paramnter.form"}},e._l(e.typeList3,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),a("Select",{staticClass:"head-search",staticStyle:{width:"150px",float:"left","margin-right":"20px","text-align":"left"},attrs:{placeholder:"使用状态",clearable:""},on:{"on-change":e.changeSelect},model:{value:e.paramnter.useState,callback:function(t){e.$set(e.paramnter,"useState",t)},expression:"paramnter.useState"}},e._l(e.typeList4,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),a("Button",{staticClass:"btn-save",staticStyle:{float:"right"},on:{click:e.add}},[e._v("创建房屋")])],1),e._v(" "),a("Table",{attrs:{stripe:"",columns:e.columns,data:e.dataTable}}),e._v(" "),a("div",{staticClass:"pages-block"},[a("div",{staticClass:"pages-right"},[a("Page",{ref:"tablePage",attrs:{total:e.total,"page-size":e.rows,"show-sizer":"","show-total":"","page-size-opts":e.size,"show-elevator":"",transfer:!0},on:{"on-page-size-change":e.doPageSizeChange,"on-change":e.change}})],1)])],1)])},staticRenderFns:[]},o=a("VU/8")(s,i,!1,null,null,null);t.default=o.exports}});
//# sourceMappingURL=37.52eba4f2ee752203ab89.js.map