webpackJsonp([15],{c1z2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("pPmT"),r=a("P9l9"),n={data:function(){var t=this;return{size:[10,50,100,200],total:0,rows:10,page:1,paramnter:{pageNum:1,pageSize:10,keyword:"",typeId:""},typeList:[],statusList:[{value:1,label:"正常使用"},{value:2,label:"维修中"},{value:3,label:"淘汰未用"}],columns:[{title:"序号",width:100,align:"center",render:function(e,a){return e("div",t.paramnter.pageNum>1?(t.page-1)*t.rows+a.index+1:a.index+1)}},{title:"资产名称",key:"fixedAssetsName",align:"center"},{title:"分类名称",key:"typeName",align:"center"},{title:"状态",key:"status",align:"center",render:function(e,a){for(var s=0;s<t.statusList.length;s++)if(a.row.status===t.statusList[s].value)return e("div",t.statusList[s].label)}},{title:"位置",key:"position",align:"center"},{title:"所属单位",key:"belongUnit",align:"center"},{title:"操作",align:"center",width:260,render:function(e,a){return e("div",[e("Icon",{props:{type:"ios-create-outline",size:28},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){t.$router.push({name:"assets_create",params:{param:t.paramnter,id:a.row.id}})}}}),e("Icon",{props:{type:"ios-list-box-outline",size:24},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){t.$router.push({name:"assets_detail",params:{param:t.paramnter,id:a.row.id}})}}}),e("Icon",{props:{type:"ios-trash-outline",size:24},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){t.delItem(a.row.id)}}})])}}],dataTable:[]}},methods:{getTypeList:function(){var t=this;Object(r.y)().then(function(e){1e3===e.data.code?t.typeList=e.data.content:t.typeList=[]})},add:function(){this.$router.push({name:"assets_create"})},delItem:function(t){var e=this;e.$Modal.confirm({title:"确认删除该资产?",onOk:function(){var a={fiexdAssetsId:t};Object(r.i)(a).then(function(t){1e3===t.data.code?(e.$Message.success("删除成功！"),e.getTableDatas(e.paramnter)):e.$Message.error(t.data.message)})}})},keywordChange:Object(s.a)(function(){this.paramnter.keyword=this.paramnter.keyword.trim(),this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)}),backKeyword:function(){this.paramnter.keyword="",this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)},changeSelect:function(){this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)},change:function(t){this.page=t,this.paramnter.pageNum=this.page,this.getTableDatas(this.paramnter)},doPageSizeChange:function(t){this.rows=t,this.paramnter.pageSize=this.rows,this.getTableDatas(this.paramnter)},getTableDatas:function(t){var e=this;Object(r.k)(t).then(function(t){1e3===t.data.code?(e.dataTable=t.data.content.list,e.total=t.data.content.total,e.rows=t.data.content.pageSize,e.page=t.data.content.pageNum):(e.dataTable=[],e.total=0,e.rows=10,e.page=1),void 0!==e.$refs.tablePage&&(e.$refs.tablePage.currentPage=e.page)})}},created:function(){void 0!==this.$route.params.param&&(this.paramnter=this.$route.params.param),this.getTypeList(),this.getTableDatas(this.paramnter)}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("div",{staticClass:"content"},[a("Row",{staticStyle:{"margin-bottom":"20px"}},[a("Input",{staticClass:"head-search",staticStyle:{width:"250px",float:"left","margin-right":"20px"},attrs:{placeholder:"资产名称",icon:"ios-close-circle"},on:{"on-change":t.keywordChange,"on-click":t.backKeyword},model:{value:t.paramnter.keyword,callback:function(e){t.$set(t.paramnter,"keyword",e)},expression:"paramnter.keyword"}}),t._v(" "),a("Select",{staticClass:"head-search",staticStyle:{width:"200px",float:"left","margin-right":"20px"},attrs:{placeholder:"资产分类",clearable:""},on:{"on-change":t.changeSelect},model:{value:t.paramnter.typeId,callback:function(e){t.$set(t.paramnter,"typeId",e)},expression:"paramnter.typeId"}},t._l(t.typeList,function(e){return a("Option",{key:e.typeId,attrs:{value:e.typeId}},[t._v(t._s(e.typeName))])}),1),t._v(" "),a("Select",{staticClass:"head-search",staticStyle:{width:"200px",float:"left","margin-right":"20px"},attrs:{placeholder:"资产状态",clearable:""},on:{"on-change":t.changeSelect},model:{value:t.paramnter.status,callback:function(e){t.$set(t.paramnter,"status",e)},expression:"paramnter.status"}},t._l(t.statusList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1),t._v(" "),a("Button",{staticClass:"btn-save",staticStyle:{float:"right"},on:{click:t.add}},[t._v("创建资产")])],1),t._v(" "),a("Table",{attrs:{stripe:"",columns:t.columns,data:t.dataTable}}),t._v(" "),a("div",{staticClass:"pages-block"},[a("div",{staticClass:"pages-right"},[a("Page",{ref:"tablePage",attrs:{total:t.total,"page-size":t.rows,"show-sizer":"","show-total":"","page-size-opts":t.size,"show-elevator":"",transfer:!0},on:{"on-page-size-change":t.doPageSizeChange,"on-change":t.change}})],1)])],1)])},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("tNCs")},"data-v-9a8dacb4",null);e.default=o.exports},tNCs:function(t,e){}});
//# sourceMappingURL=15.2b6350a78bd39fa50276.js.map