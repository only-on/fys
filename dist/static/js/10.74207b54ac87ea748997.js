webpackJsonp([10],{IFkC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("pPmT"),n=a("P9l9"),i={data:function(){var t=this;return{size:[10,50,100,200],total:0,rows:10,page:1,paramnter:{keyword:"",pageNum:1,pageSize:10,isPost:""},columns:[{title:"序号",width:100,align:"center",render:function(e,a){return e("div",t.paramnter.pageNum>1?(t.page-1)*t.rows+a.index+1:a.index+1)}},{title:"资讯标题",key:"title",align:"center"},{title:"作者/来源",key:"source",align:"center"},{title:"资讯类型",key:"contentType",align:"center",render:function(t,e){return t("div",0===e.row.contentType?"推送链接":"富文本信息")}},{title:"浏览数",key:"viewCount",align:"center"},{title:"资讯状态",key:"isPost",align:"center",render:function(t,e){return t("div","false"===e.row.post||!1===e.row.post?"未发布":"true"===e.row.post||!0===e.row.post?"已发布":"-")}},{title:"操作",key:"action",align:"center",width:260,render:function(e,a){return e("div",[e("Icon",{props:{type:"ios-create-outline",size:28},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){t.edit(a.row.id)}}}),e("Icon",{props:{type:"ios-list-box-outline",size:24},style:{color:"#516BEB",cursor:"pointer",marginRight:"8px"},on:{click:function(){t.check(a.row.id)}}}),e("Icon",{props:{type:"ios-trash-outline",size:24},style:{color:"#516BEB",cursor:"pointer"},on:{click:function(){t.remove(a.row.id)}}})])}}],dataTable:[]}},methods:{add:function(){this.$router.push({name:"information_create"})},edit:function(t){this.$router.push({name:"information_create",params:{id:t,param:this.paramnter}})},check:function(t){this.$router.push({name:"information_detail",params:{id:t,param:this.paramnter}})},remove:function(t){var e=this;e.$Modal.confirm({title:"确认删除该资讯?",onOk:function(){var a={id:t};Object(n.f)(a).then(function(t){1e3===t.data.code?(e.$Message.success("删除成功！"),e.getTableDatas(e.paramnter)):e.$Message.error(t.data.message)})}})},keywordChange:Object(r.a)(function(){this.paramnter.keyword=this.paramnter.keyword.trim(),this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)}),backKeyword:function(){this.paramnter.keyword="",this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)},changeSelect:function(){this.page=1,this.paramnter.pageNum=1,this.getTableDatas(this.paramnter)},change:function(t){this.page=t,this.paramnter.pageNum=this.page,this.getTableDatas(this.paramnter)},doPageSizeChange:function(t){this.rows=t,this.paramnter.pageSize=this.rows,this.getTableDatas(this.paramnter)},getTableDatas:function(t){var e=this;Object(n.R)(t).then(function(t){1e3===t.data.code?(e.dataTable=t.data.content.list,e.total=t.data.content.total,e.rows=t.data.content.pageSize,e.page=t.data.content.pageNum):(e.dataTable=[],e.total=0,e.rows=10,e.page=1),void 0!==e.$refs.tablePage&&(e.$refs.tablePage.currentPage=e.page)})}},created:function(){void 0!==this.$route.params.param&&(this.paramnter=this.$route.params.param),this.getTableDatas(this.paramnter)}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("div",{staticClass:"content"},[a("Row",{staticStyle:{"margin-bottom":"20px"}},[a("RadioGroup",{staticStyle:{float:"left","padding-top":"5px"},on:{"on-change":t.changeSelect},model:{value:t.paramnter.isPost,callback:function(e){t.$set(t.paramnter,"isPost",e)},expression:"paramnter.isPost"}},[a("Radio",{staticStyle:{"margin-right":"20px"},attrs:{label:""}},[t._v("全部资讯")]),t._v(" "),a("Radio",{staticStyle:{"margin-right":"20px"},attrs:{label:"0"}},[t._v("未发布")]),t._v(" "),a("Radio",{staticStyle:{"margin-right":"20px"},attrs:{label:"1"}},[t._v("已发布")])],1),t._v(" "),a("Input",{staticClass:"head-search",staticStyle:{width:"250px",float:"left","margin-right":"20px"},attrs:{placeholder:"资讯标题",icon:"ios-close-circle"},on:{"on-change":t.keywordChange,"on-click":t.backKeyword},model:{value:t.paramnter.keyword,callback:function(e){t.$set(t.paramnter,"keyword",e)},expression:"paramnter.keyword"}}),t._v(" "),a("Button",{staticClass:"btn-save",staticStyle:{float:"right"},on:{click:t.add}},[t._v("创建资讯")])],1),t._v(" "),a("Table",{attrs:{stripe:"",columns:t.columns,data:t.dataTable}}),t._v(" "),a("div",{staticClass:"pages-block"},[a("div",{staticClass:"pages-right"},[a("Page",{ref:"tablePage",attrs:{total:t.total,"page-size":t.rows,"show-sizer":"","show-total":"","page-size-opts":t.size,"show-elevator":"",transfer:!0},on:{"on-page-size-change":t.doPageSizeChange,"on-change":t.change}})],1)])],1)])},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(t){a("vmzR")},"data-v-f64f10ae",null);e.default=s.exports},vmzR:function(t,e){}});
//# sourceMappingURL=10.74207b54ac87ea748997.js.map