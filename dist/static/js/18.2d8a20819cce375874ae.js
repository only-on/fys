webpackJsonp([18],{O708:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("P9l9"),o={data:function(){return{formItem:{id:"",realName:"",phone:"",password:"123456",type:"",sex:"0"},mobilePhoneNotice:!1,passNotice:!1,roleList:[{value:2,label:"超级管理员"},{value:3,label:"运维管理员"},{value:4,label:"普通用户"}]}},methods:{checkPassword:function(t){if(""!==t&&void 0!==t){t=t.replace(/\s+/g,""),/^[0-9]*$/.test(t)&&t.length>5&&t.length<12?this.passNotice=!1:this.passNotice=!0}else this.passNotice=!1},mobilePhoneVal:function(t){this.formItem.phone=t.trim();/(^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$)/.test(t.trim())?this.mobilePhoneNotice=!1:this.mobilePhoneNotice=!0},submitVal:function(t){return 0===t.realName.trim().length?(this.$Message.error("真实姓名不能为空！"),!1):t.realName.trim().length>30?(this.$Message.error("真实姓名不能超过30字！"),!1):""===t.phone?(this.$Message.error("手机号码不能为空！"),!1):!0===this.mobilePhoneNotice?(this.$Message.error("请输入合法的手机号码！"),!1):void 0===t.id&&""===t.password?(this.$Message.error("用户密码不能为空！"),!1):!0===this.passNotice?(this.$Message.error("密码请输入6~11位的数字！"),!1):""!==t.type&&void 0!==t.type||(this.$Message.error("用户角色不能为空！"),!1)},save:function(){var t=this;this.submitVal(this.formItem)&&(""===this.formItem.id||void 0===this.formItem.id?Object(a._11)(this.formItem).then(function(e){1e3===e.data.code?(t.$Message.info("用户添加成功！"),t.$router.push({name:"user"})):t.$Message.error(e.data.message)}):Object(a._15)(this.formItem).then(function(e){1e3===e.data.code?(t.$Message.info("用户编辑成功！"),t.$router.push({name:"user",params:{param:t.$route.params.param}})):t.$Message.error(e.data.message)}))},getDetail:function(t){},back:function(){""===this.formItem.id?this.$router.push({name:"user"}):this.$router.push({name:"user",params:{param:this.$route.params.param}})}},created:function(){if(void 0!==this.$route.params.row){var t=this.$route.params.row;this.formItem={id:t.id,realName:t.realName,phone:t.phone,password:"",sex:t.sex+"",type:t.type}}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Row",{staticClass:"titleBar",attrs:{type:"flex",justify:"start"}},[s("Icon",{staticClass:"closeIcon",attrs:{type:"md-close",size:"30"},on:{click:t.back}}),t._v(" "),s("div",{staticStyle:{margin:"10px 30px"}},[s("span",[t._v("\n       用户管理\n       "),s("Icon",{attrs:{type:"ios-arrow-forward",size:"20"}})],1),t._v(" "),s("span",[t._v(t._s(""===t.formItem.id?"创建":"编辑")+"用户")])])],1),t._v(" "),s("div",{staticClass:"detailBody"},[s("div",{staticClass:"detailContent"},[s("Row",{staticClass:"detailTitle",attrs:{type:"flex",justify:"start"}},[t._v("用户信息")]),t._v(" "),s("div",{staticClass:"formContent"},[s("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":150}},[s("Row",{attrs:{type:"flex"}},[s("FormItem",{staticClass:"selfValidate",attrs:{label:"真实姓名"}},[s("Input",{staticStyle:{width:"300px",float:"left"},attrs:{placeholder:"真实姓名"},model:{value:t.formItem.realName,callback:function(e){t.$set(t.formItem,"realName",e)},expression:"formItem.realName"}}),s("br")],1)],1),t._v(" "),s("Row",{attrs:{type:"flex"}},[s("FormItem",{staticClass:"selfValidate",attrs:{label:"手机号码"}},[s("Input",{staticStyle:{width:"300px",float:"left"},attrs:{placeholder:"手机号码"},on:{"on-change":function(e){return t.mobilePhoneVal(t.formItem.phone)}},model:{value:t.formItem.phone,callback:function(e){t.$set(t.formItem,"phone",e)},expression:"formItem.phone"}}),t._v(" "),t.mobilePhoneNotice?s("span",{staticClass:"notice"},[t._v("请输入合法的手机号码")]):t._e(),s("br")],1)],1),t._v(" "),s("Row",{attrs:{type:"flex"}},[s("FormItem",{staticClass:"selfValidate",staticStyle:{"margin-bottom":"0px"},attrs:{label:""===t.formItem.id?"用户密码":"重置密码"}},[s("Input",{staticStyle:{width:"300px",float:"left"},attrs:{type:"password"},on:{"on-change":function(e){return t.checkPassword(t.formItem.password)}},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}}),t._v(" "),t.passNotice?s("span",{staticClass:"notice"},[t._v("请输入6~11位的数字")]):t._e(),s("br")],1)],1),t._v(" "),s("Row",{attrs:{type:"flex"}},[s("FormItem",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[s("div",{staticClass:"noticeTextGray"},[t._v("用户密码默认是123456")])])],1),t._v(" "),s("Row",{attrs:{type:"flex"}},[s("FormItem",{staticClass:"selfValidate",attrs:{label:"用户性别"}},[s("RadioGroup",{model:{value:t.formItem.sex,callback:function(e){t.$set(t.formItem,"sex",e)},expression:"formItem.sex"}},[s("Radio",{attrs:{label:"0"}},[t._v("男")]),t._v(" "),s("Radio",{attrs:{label:"1"}},[t._v("女")])],1)],1)],1),t._v(" "),s("Row",{attrs:{type:"flex"}},[s("FormItem",{staticClass:"selfValidate",attrs:{label:"用户角色"}},[s("Select",{staticStyle:{width:"300px"},attrs:{placeholder:"用户角色"},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},t._l(t.roleList,function(e){return s("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1)],1)],1)],1),t._v(" "),s("Row",{staticStyle:{"margin-top":"30px"},attrs:{type:"flex"}},[s("Button",{staticClass:"btn-save",staticStyle:{padding:"5px 30px"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")(o,r,!1,function(t){s("iR5G")},"data-v-74d2536b",null);e.default=i.exports},iR5G:function(t,e){}});
//# sourceMappingURL=18.2d8a20819cce375874ae.js.map